{% block header %}
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
        <div class="container">

            <a class="navbar-brand fw-bold" href="{{ path('categorias') }}">
                üõçÔ∏è Perfume Shop
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarContent" aria-controls="navbarContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link {% if app.request.attributes.get('_route') == 'home' %}active{% endif %}"
                           href="{{ path('home') }}">Inicio</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link {% if app.request.attributes.get('_route') == 'categorias' %}active{% endif %}"
                           href="{{ path('categorias') }}">
                            Categor√≠as
                        </a>
                    </li>
                </ul>

                <ul class="navbar-nav ms-auto">

                    {% if app.user %}
                        <li class="nav-item d-flex align-items-center me-3 text-white">
                            üëã Bienvenido, <strong class="ms-1">{{ app.user.login }}</strong>
                        </li>

                        {# Bot√≥n de Dashboard solo para administradores #}
                        {% if is_granted('ROLE_ADMIN') %}
                            <li class="nav-item me-2">
                                <a class="btn btn-danger btn-sm rounded-pill px-3 shadow-sm"
                                   href="{{ path('admin') }}">
                                    ‚öôÔ∏è Dashboard Admin
                                </a>
                            </li>
                        {% endif %}

                        {# Bot√≥n Mis Pedidos (Solo visible si est√° logueado) #}
                        <li class="nav-item me-2">
                            <a class="btn btn-info btn-sm rounded-pill px-3 text-white
                           {% if app.request.attributes.get('_route') == 'historial' %}active{% endif %}"
                               href="{{ path('historial') }}">
                                üì¶ Mis Pedidos
                            </a>
                        </li>

                        <li class="nav-item me-3">
                            <a class="btn btn-warning btn-sm rounded-pill px-3
                           {% if app.request.attributes.get('_route') == 'cesta' %}active{% endif %}"
                               href="{{ path('cesta') }}">
                                üõí Cesta
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="btn btn-outline-light btn-sm rounded-pill px-3"
                               href="{{ path('logout') }}">
                                Cerrar sesi√≥n
                            </a>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="btn btn-light btn-sm rounded-pill px-3"
                               href="{{ path('login') }}">
                                Iniciar sesi√≥n
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>

        </div>
    </nav>
{% endblock %}